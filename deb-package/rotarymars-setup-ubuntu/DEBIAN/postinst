#!/bin/bash
# Phase 2: Install all apt packages
# This script runs after the package files are unpacked.

set -e

echo "=== Phase 2: Installing apt packages ==="

DEBIAN_FRONTEND=noninteractive apt-get install -y \
    dirmngr \
    ca-certificates \
    curl \
    gnupg \
    lsb-release \
    ffmpeg \
    apt-fast \
    google-chrome-stable \
    rpi-imager \
    ibus-mozc \
    mozc-utils-gui \
    apt-transport-https \
    git \
    kicad \
    clang \
    clangd \
    clang-format \
    build-essential \
    libreoffice \
    docker-ce \
    docker-ce-cli \
    blender \
    obs-studio \
    network-manager-l2tp \
    network-manager-l2tp-gnome \
    xsel \
    python3-pip \
    exuberant-ctags \
    ripgrep \
    eza \
    make \
    libssl-dev \
    zlib1g-dev \
    libbz2-dev \
    libreadline-dev \
    libsqlite3-dev \
    llvm \
    libncursesw5-dev \
    xz-utils \
    tk-dev \
    libxml2-dev \
    libxmlsec1-dev \
    libffi-dev \
    liblzma-dev \
    lldb \
    libxslt1-dev \
    autoconf \
    bison \
    libyaml-dev \
    libncurses5-dev \
    libgdbm-dev \
    libdb-dev \
    uuid-dev \
    htop \
    net-tools \
    trash-cli \
    nmap \
    openssh-server \
    bacula-console-qt \
    discord \
    blueman \
    direnv \
    cargo \
    sshpass \
    docker-compose-plugin \
    tigervnc-viewer \
    zsh \
    libheif-examples \
    fortune-mod \
    software-properties-common \
    ansible \
    v4l-utils \
    cheese \
    micropython \
    cmake \
    ninja-build \
    libfuse2t64 \
    aria2 \
    tmux \
    tree \
    ncdu \
    avahi-daemon \
    fastfetch \
    hydra \
    gcc-11 \
    g++-11 \
    gcc-12 \
    g++-12 \
    gcc-13 \
    g++-13 \
    clang-14 \
    clang-15 \
    clang-16 \
    clang-17 \
    clang-18 \
    clang-19 \
    arp-scan \
    vim \
    dnsmasq \
    hostapd \
    isc-dhcp-server \
    linux-wifi-hotspot \
    gh \
    openjdk-21-jdk \
    libboost-all-dev \
    mysql-client \
    asunder \
    lame \
    sg3-utils \
    libopencv-dev \
    apache2-utils \
    screen \
    virtualbox-7.1 \
    libcgi-pm-perl \
    dos2unix \
    rubberband-cli \
    sox \
    libsox-fmt-mp3 \
    neovim \
    opam \
    ocamlbuild \
    python3-tk \
    bat \
    cu \
    postgresql-client-common \
    postgresql-client \
    golang-go \
    portaudio19-dev \
    python3-pyaudio \
    imagemagick \
    libmagickwand-dev \
    kitty \
    parallel \
    libgtkmm-3.0-dev \
    libcurl4-gnutls-dev \
    nlohmann-json3-dev \
    libhandy-1-dev \
    libsecret-1-dev \
    libopus-dev \
    libsodium-dev \
    libspdlog-dev \
    gnuplot \
    flatpak \
    gnome-software-plugin-flatpak \
    hwinfo \
    libimobiledevice-utils \
    libimobiledevice6 \
    ifuse \
    libapr1 \
    libaprutil1 \
    libasound2t64 \
    libasound2-data \
    libglib2.0-0 \
    libxcb-cursor0 \
    fakeroot \
    xorriso

echo "=== Phase 2 complete: All packages installed ==="
